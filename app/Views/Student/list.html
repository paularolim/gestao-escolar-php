{% extends "/Layout/index.html" %} {% block body %}
<div class="row">
  <div class="col-4">
    <h1>Alunos</h1>
    <p class="text-muted">Total: {{total}}</p>
  </div>

  <div class="col-4">
    <form action="">
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          placeholder="Documento ou nome"
          aria-label="Documento ou nome"
        />
        <button class="btn btn-outline-primary" type="button">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </form>
  </div>

  <div class="col-4 d-flex justify-content-end align-items-start">
    <a class="btn btn-outline-primary" href="/alunos/adicionar" role="button"
      >Novo</a
    >
  </div>
</div>
<table class="table">
  <thead class="background-primary">
    <tr>
      <th>Nome</th>
      <th>Documento</th>
      <th>Ativo</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    {% for student in students %}
    <tr>
      <td>{{student['name']}}</td>
      <td class="profileDocument">{{student['document']}}</td>
      <td>
        {% if student['active'] == 1 %}
        <span class="text-success">Sim</span>
        {% endif %} {% if student['active'] == 0 %}
        <span class="text-danger">Não</span>
        {% endif %}
      </td>
      <td>
        <a
          class="btn btn-outline-primary btn-sm"
          href="/alunos/{{student['id']}}"
          role="button"
          >Ver</a
        >
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">
    {% if pages['current'] != 1 %}
    <li class="page-item">
      <a class="page-link" href="?page={{pages['prev']}}&size={{pages['size']}}"
        >&laquo;</a
      >
    </li>
    {% endif %} {% if pages['total'] != 1 %} {% for i in range(1,
    pages['total']) %}
    <li class="page-item">
      <a class="page-link" href="?page={{i}}&size={{pages['size']}}">{{i}}</a>
    </li>
    {% endfor %} {% endif %} {% if pages['current'] != pages['total'] %}
    <li class="page-item">
      <a class="page-link" href="?page={{pages['next']}}&size={{pages['size']}}"
        >&raquo;</a
      >
    </li>
    {% endif %}
  </ul>
</nav>

<script src="/public/js/format.js"></script>
<script>
  const profileDocument = document.querySelectorAll(".profileDocument");
  profileDocument.forEach((pd) => {
    pd.innerHTML = formatDocument(pd.innerHTML);
  });
</script>
{% endblock %}
